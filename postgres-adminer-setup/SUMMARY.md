# –†–µ–∑—é–º–µ –ø—Ä–æ–µ–∫—Ç–∞: PostgreSQL + Adminer –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

## üéØ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

–°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±—é–¥–∂–µ—Ç–∞–º–∏ –∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å—é –Ω–∞ –±–∞–∑–µ PostgreSQL —Å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º Adminer.

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
postgres-adminer-setup/
‚îú‚îÄ‚îÄ docker-compose.yml          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker (PostgreSQL + Adminer + API)
‚îú‚îÄ‚îÄ init_db.sql                 # –°—Ö–µ–º–∞ –ë–î (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è)
‚îú‚îÄ‚îÄ sample_data.sql             # –ë–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ monthly_report_data.sql     # –î–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å –∑–∞ —è–Ω–≤–∞—Ä—å 2025
‚îú‚îÄ‚îÄ example_queries.sql         # 15 –≥–æ—Ç–æ–≤—ã—Ö –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
‚îú‚îÄ‚îÄ .env.example                # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ README.md                   # –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üóÑÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ (5 —Ç–∞–±–ª–∏—Ü)
- `dict_functions` - –§—É–Ω–∫—Ü–∏–∏ SMT (F_LVL_1, F_LVL_2)
- `dict_tribes` - –¢—Ä–∞–π–±—ã (–∫–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- `dict_cfo` - –¶–§–û (—Ü–µ–Ω—Ç—Ä—ã —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏)
- `dict_expense_items` - –°—Ç–∞—Ç—å–∏ –∑–∞—Ç—Ä–∞—Ç —Å –∏–µ—Ä–∞—Ä—Ö–∏–µ–π (NAME_ENG_4/5/6)
- `dict_currencies` - –í–∞–ª—é—Ç—ã (RUB, USD, EUR)

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã (3 —Ç–∞–±–ª–∏—Ü—ã)
- **`capex_it_budget`** - –ë—é–¥–∂–µ—Ç—ã CAPEX IT
  - –ü–æ–º–µ—Å—è—á–Ω–∞—è —Ä–∞–∑–±–∏–≤–∫–∞ (12 –º–µ—Å—è—Ü–µ–≤)
  - –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤ JSONB
  - –ê—É–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π
  
- **`budget_actuals`** - –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
  - –ü–ª–∞–Ω (P_SUMMA)
  - –§–∞–∫—Ç (F_SUMMA)
  - –û—Ç–∫–ª–æ–Ω–µ–Ω–∏—è (DEV_SUMM, DEV_PERCENT)
  
- **`app_logs`** - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
- ‚úÖ 25+ –∏–Ω–¥–µ–∫—Å–æ–≤ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –¢—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è timestamps
- ‚úÖ 2 –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- ‚úÖ 3 —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ (pg_trgm)

## üöÄ –°–µ—Ä–≤–∏—Å—ã

| –°–µ—Ä–≤–∏—Å | –ü–æ—Ä—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------|----------|
| PostgreSQL | 18788 | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö |
| Adminer | 18789 | –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ë–î |
| API | 18790 | REST API (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è) |

## üîê –î–æ—Å—Ç—É–ø—ã

### PostgreSQL
```
Host: localhost
Port: 18788
Database: sgr_memory_vault
User: admin
Password: Lol770905!
```

### Adminer
```
URL: http://localhost:18789
System: PostgreSQL
Server: postgres:18788
Username: admin
Password: Lol770905!
```

### Connection String
```
postgresql://admin:Lol770905!@localhost:18788/sgr_memory_vault
```

## üìä –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

- **13 –ø—Ä–æ–µ–∫—Ç–æ–≤ CAPEX** –Ω–∞ –æ–±—â—É—é —Å—É–º–º—É **997.55 –º–ª–Ω —Ä—É–±**
- **20 –∑–∞–ø–∏—Å–µ–π —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö** –∑–∞ —è–Ω–≤–∞—Ä—å 2025
- **13 —Ç—Ä–∞–π–±–æ–≤** (–∫–æ–º–∞–Ω–¥ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- **22 —Å—Ç–∞—Ç—å–∏ –∑–∞—Ç—Ä–∞—Ç** —Å –∏–µ—Ä–∞—Ä—Ö–∏–µ–π
- **–°—Ä–µ–¥–Ω–µ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –±—é–¥–∂–µ—Ç–∞**: 93.47%

## üõ†Ô∏è –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã

### –ó–∞–ø—É—Å–∫
```bash
cd /srv/sgr-agetn-core-tool-search-context-compression/postgres-adminer-setup
docker-compose up -d
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
docker-compose down
```

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
```bash
docker exec sgr-postgres-standalone psql -U admin -d sgr_memory_vault
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
docker-compose logs -f postgres
```

## üìà –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

–°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å:
- ‚úÖ –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –±—é–¥–∂–µ—Ç–∞ –ø–æ —Ç—Ä–∞–π–±–∞–º
- ‚úÖ –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞—Ç—Ä–∞—Ç –ø–æ –¶–§–û
- ‚úÖ –ü–æ–º–µ—Å—è—á–Ω–∞—è –∏ –ø–æ–∫–≤–∞—Ä—Ç–∞–ª—å–Ω–∞—è –¥–∏–Ω–∞–º–∏–∫–∞
- ‚úÖ –û—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –æ—Ç –ø–ª–∞–Ω–∞
- ‚úÖ –†–∞—Å—Ö–æ–¥—ã –ø–æ –≤–µ–Ω–¥–æ—Ä–∞–º
- ‚úÖ –°—Ç–∞—Ç—å–∏ –∑–∞—Ç—Ä–∞—Ç —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π
- ‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–æ–≤

## üéØ –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **–ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** - —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –≤—ã–Ω–µ—Å–µ–Ω—ã –æ—Ç–¥–µ–ª—å–Ω–æ
2. **–ì–∏–±–∫–æ—Å—Ç—å** - JSONB –ø–æ–ª—è –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –∏–Ω–¥–µ–∫—Å—ã –Ω–∞ –≤—Å–µ –∫–ª—é—á–µ–≤—ã–µ –ø–æ–ª—è
4. **–ê—É–¥–∏—Ç** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
5. **–ì–æ—Ç–æ–≤—ã–µ –æ—Ç—á–µ—Ç—ã** - –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
6. **–ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫** - –ø–æ–∏—Å–∫ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—è–º –ø—Ä–æ–µ–∫—Ç–æ–≤

## üìù –§–∞–π–ª—ã —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏

- `example_queries.sql` - 15 –≥–æ—Ç–æ–≤—ã—Ö SQL –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è:
  - –û–±—â–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
  - –ê–Ω–∞–ª–∏–∑–∞ –ø–æ —Ç—Ä–∞–π–±–∞–º, –¶–§–û, —Å—Ç–∞—Ç—å—è–º
  - –ü–æ–∏—Å–∫–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–π
  - –ê–Ω–∞–ª–∏–∑–∞ –ø–æ –≤–µ–Ω–¥–æ—Ä–∞–º
  - –≠–∫—Å–ø–æ—Ä—Ç–∞ –¥–ª—è Excel
  - Dashboard –º–µ—Ç—Ä–∏–∫

## üîÑ –ß—Ç–æ –¥–∞–ª—å—à–µ?

- [ ] –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å REST API –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º
- [ ] –°–æ–∑–¥–∞—Ç—å –¥–∞—à–±–æ—Ä–¥ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö –∏–∑ Excel
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á–µ—Ç—ã
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —Å–∏—Å—Ç–µ–º–∞–º–∏ —É—á–µ—Ç–∞

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 17 –¥–µ–∫–∞–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è PostgreSQL**: 18-alpine  
**–í–µ—Ä—Å–∏—è Adminer**: latest
